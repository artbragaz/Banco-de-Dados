CREATE DATABASE IF NOT EXISTS posto;
USE posto;

CREATE TABLE IF NOT EXISTS CLIENTES(
idClientes INT PRIMARY KEY,
Nome VARCHAR(45) NOT NULL,
DATA_NASCIMENTO DATE NOT NULL);

CREATE TABLE IF NOT EXISTS POSTOS_DE_GASOLINA(
idPosto_de_gasolina INT PRIMARY KEY,
NOME VARCHAR(45) NOT NULL);

CREATE TABLE IF NOT EXISTS FUNCIONARIOS(  
idFuncionario INT PRIMARY KEY,
Nome VARCHAR(45) NOT NULL,
POSTOS_DE_GASOLINA_idPosto_de_Gasolina INT NOT NULL,
CONSTRAINT FUN_POST FOREIGN KEY(POSTOS_DE_GASOLINA_idPosto_de_Gasolina) REFERENCES POSTOS_DE_GASOLINA(idPosto_de_gasolina));

CREATE TABLE IF NOT EXISTS REGISTROS(
idRegistro INT PRIMARY KEY,
FUNCIONARIOS_idFuncionario INT NOT NULL,
CONSTRAINT REG_FUN FOREIGN KEY(FUNCIONARIOS_idFuncionario) REFERENCES FUNCIONARIOS(idFuncionario));

CREATE TABLE IF NOT EXISTS Clientes_has_Funcionarios(
CLIENTES_idClientes INT NOT NULL,
FUNCIONARIOS_IdFuncionarios INT NOT NULL,
CONSTRAINT CLI_FUN FOREIGN KEY(CLIENTES_idClientes) REFERENCES CLIENTES(idClientes),
CONSTRAINT FUN_CLI FOREIGN KEY(FUNCIONARIOS_idFuncionarios) REFERENCES FUNCIONARIOS(idFuncionarios));

CREATE TABLE IF NOT EXISTS TIPO_COMBUSTIVEL(
idTIPO_COMBUSTIVEL INT PRIMARY KEY,
TIPO VARCHAR(12),
PRECO DECIMAL(10,2));

CREATE TABLE IF NOT EXISTS COMBUSTIVEL(
Pre√ßo DECIMAL(10,2) NOT NULL,
TIPO_COMBUSTIVEL_idTIPO_COMBUSTIVEL INT NOT NULL,
POSTOS_DE_GASOLINA_idPosto_de_gasolina INT NOT NULL,
CONSTRAINT TIP_COM FOREIGN KEY (TIPO_COMBUSTIVEL_idTIPO_COMBUSTIVEL) REFERENCES TIPO_COMBUSTIVEL(idTIPO_COMBUSTIVEL),
CONSTRAINT POST_COMB FOREIGN KEY (POSTO_DE_GASOLINA_idPosto_de_gasolina) REFERENCES POSTO_DE_GASOLINA(idPosto_de_gasolina));
